
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Membuat Self Signed Certificate - Living life and make it better</title>
  <meta name="author" content="Endy Muhardin">

  
  <meta name="description" content="Idealnya, sertifikat SSL disetujui (signed) oleh Certificate Authority (CA).
Proses persetujuan ini biasanya dikenakan biaya, walaupun ada juga yang &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://software.endy.muhardin.com/aplikasi/membuat-self-signed-certificate/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Living life and make it better" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

<meta property="fb:app_id" content="269506799827290" />



  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/font-awesome.css" media="screen, projection" rel="stylesheet" type="text/css" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36102948-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:software.endy.muhardin.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/">
        <span class="my_site_title">
            Living life and make it better
        </span>
       
           <span class="my_site_subtitle">
             life, learn, contribute
           </span>
       
    </a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/calendar">Calendar</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Membuat Self Signed Certificate</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-09T13:41:00+07:00" pubdate data-updated="true">Jul 9<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Idealnya, sertifikat SSL disetujui (signed) oleh Certificate Authority (CA).
Proses persetujuan ini biasanya dikenakan biaya, walaupun ada juga yang <a href="http://www.startssl.com/?app=1">gratisan</a>.
Sertifikat yang disetujui CA memiliki batas waktu pemakaian. Setelah waktu tersebut habis, maka sertifikat tidak bisa digunakan dan kita harus mengurus perpanjangannya.</p>

<p>Kondisi ini tentu kurang menyenangkan pada waktu kita ada di fase development. Untuk itu kita ingin membuat sertifikat sendiri, dan kemudian menyetujuinya sendiri juga. Ini disebut dengan istilah <code>self-signed certificate</code>. Bila diakses di browser, <code>self-signed certificate</code> ini akan menimbulkan peringatan seperti screenshot dibawah.</p>

<p><img src="/images/uploads/2013/07/ssl/01-ssl-warning.png" title="Halaman Warning" ></p>

<p>Agar bisa mengakses halaman tersebut, kita perlu menambahkan exception. Kita akan dikonfirmasi seperti pada layar berikut</p>

<p><img src="/images/uploads/2013/07/ssl/02-add-exception.png" title="Add Exception" ></p>

<p>Tapi tidak masalah, karena pada fase development yang pakai aplikasi/website ini hanya kita sendiri, bukan end-user. Nantinya sebelum dipublish untuk umum, belilah sertifikat yang benar.</p>

<p>Artikel ini adalah bagian kedua dari 4 artikel, yaitu:</p>

<ol>
<li><a href="http://software.endy.muhardin.com/aplikasi/apa-itu-ssl/">Apa itu SSL</a></li>
<li><a href="http://software.endy.muhardin.com/aplikasi/membuat-self-signed-certificate/">Membuat self-signed certificate</a></li>
<li><a href="http://software.endy.muhardin.com/aplikasi/membeli-sertifikat-ssl/">Membeli sertifikat SSL</a></li>
<li><a href="http://software.endy.muhardin.com/aplikasi/memasang-sertifikat-ssl/">Memasang sertifikat SSL</a></li>
</ol>


<!--more-->


<h2>Garis Besar Prosedur</h2>

<p>Ada beberapa langkah yang perlu kita lakukan untuk membuat self-signed certificate. Berikut adalah hasil akhir yang kita harapkan setelah semua prosedur dilalui:</p>

<ul>
<li>File private key yang dienkripsi dengan password</li>
<li>File certificate yang sudah disetujui CA</li>
<li>File certificate milik CA. Untuk self-signed filenya cuma satu. Tapi ketika kita membeli sertifikat berbayar, file dari CA ini bisa banyak tergantung dari rantai approval dari CA tersebut.</li>
<li>Khusus untuk aplikasi Java, ketiga file tersebut harus dimasukkan ke dalam database yang disebut dengan istilah <code>keystore</code></li>
</ul>


<p>Berikut adalah langkah-langkah untuk membuat self-signed certificate:</p>

<ol>
<li>Buat private key</li>
<li>Buat permohonan persetujuan sertifikat, dalam bahasa Inggris disebut Certificate Signing Request (CSR)</li>
<li>Buat dulu CA yang akan menandatangani sertifikat. Langkah ini tidak diperlukan bila kita membeli sertifikat dari CA.</li>
<li>Setujui CSR oleh CA yang dibuat sendiri. Langkah ini juga harusnya dilakukan oleh CA yang benar.</li>
<li>Khusus aplikasi Java, masukkan semua file yang dibutuhkan ke dalam <code>keystore</code></li>
</ol>


<h2>Aplikasi yang dibutuhkan</h2>

<p>Ada dua aplikasi yang umum digunakan untuk melakukan prosedur di atas, yaitu <code>openssl</code> dan <code>keytool</code>. Aplikasi <code>openssl</code> biasanya sudah terinstal di distro Linux populer sehingga kita tinggal pakai saja. Aplikasi <code>keytool</code> merupakan bawaan dari Java SDK. Kita harus menginstal dulu Java SDK untuk bisa menggunakan aplikasi ini.</p>

<p>Kedua aplikasi bisa melakukan semua prosedur di atas. Pertanyaan penting yang kita hadapi adalah</p>

<blockquote><p>Mana yang lebih baik pakai openssl atau keytool ?</p></blockquote>

<p>Setelah mencoba kedua aplikasi, saran saya adalah: gunakan OpenSSL untuk semua proses, kecuali memasukkan file ke dalam keystore. OpenSSL tidak bisa mengelola keystore, sehingga kita harus pakai keytool.</p>

<blockquote><p>Kenapa begitu?</p></blockquote>

<p>Untuk aplikasi web, sertifikat SSL biasanya digunakan oleh webserver. Bila aplikasi kita Java, maka webservernya adalah Tomcat atau Jetty. Apabila non Java, biasanya Apache HTTPD, Nginx, Lighttpd, atau lainnya.</p>

<p>Webserver untuk aplikasi Java membutuhkan file sertifikat dalam bentuk keystore, sedangkan webserver untuk aplikasi non Java membutuhkan sertifikat dalam bentuk file text.</p>

<p>Dari bentuk file text kita bisa membuat bentuk keystore dengan mudah. Cukup berbekal <code>openssl</code> dan <code>keytool</code> pekerjaan sudah bisa diselesaikan. Tapi sebaliknya, mengeluarkan private key dari keystore menjadi file text <a href="http://conshell.net/wiki/index.php/Keytool_to_OpenSSL_Conversion_tips">relatif sulit dan membutuhkan aplikasi tambahan</a>.</p>

<p>Oleh karena itu, pada artikel ini, semua langkah akan dilakukan dengan OpenSSL. Keytool akan digunakan di bagian terakhir pada waktu kita ingin memasang sertifikat di Tomcat.</p>

<h2>Struktur Folder</h2>

<p>Sebagai studi kasus, kita akan membuat aplikasi web yang dihosting dengan nama domain <code>demo.muhardin.com</code>. Seluruh file yang terlibat dalam rangkaian artikel ini bisa diambil di <a href="https://github.com/endymuhardin/belajar-ssl">repository Github</a>. Perhatikan juga <a href="https://github.com/endymuhardin/belajar-ssl/commits/master">history commit</a> untuk mengetahui urutan langkah-langkah yang dilakukan.</p>

<p>Siapkan dua folder, <code>ca</code> dan <code>demo.muhardin.com</code>. Folder <code>ca</code> akan digunakan untuk operasional CA yaitu menyetujui CSR yang masuk. Sedangkan folder <code>demo.muhardin.com</code> berisi semua file yang dibutuhkan webserver kita supaya bisa menjalankan HTTPS.</p>

<p>Nantinya bila kita membeli sertifikat berbayar, kita tidak perlu membuat folder <code>ca</code> ini.</p>

<h2>Membuat Private Key</h2>

<p>Kita ingin membuat private key dengan konfigurasi sebagai berikut:</p>

<ul>
<li>ukuran key : 2048 bit</li>
<li>algoritma : RSA</li>
<li>enkripsi : AES 256 bit</li>
</ul>


<p>Berikut adalah perintahnya, lakukan di dalam folder <code>demo.muhardin.com</code> :</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>openssl genrsa -aes256 2048 &gt; demo.muhardin.com.key</span></code></pre></td></tr></table></div></figure>


<p>Berikut adalah outputnya</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Generating RSA private key, 2048 bit long modulus
</span><span class='line'>......+++
</span><span class='line'>.................................+++
</span><span class='line'>e is 65537 (0x10001)
</span><span class='line'>Enter pass phrase:
</span><span class='line'>Verifying - Enter pass phrase:</span></code></pre></td></tr></table></div></figure>


<p>Kita diminta passphrase untuk mengenkripsi private key tersebut. Saya masukkan <code>test1234</code> sebagai password. Setelah selesai, kita akan mendapatkan satu file bernama <code>demo.muhardin.com.key</code>. Isinya adalah private key yang dienkripsi dengan algoritma AES berkekuatan 256 bit.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-----BEGIN RSA PRIVATE KEY-----
</span><span class='line'>Proc-Type: 4,ENCRYPTED
</span><span class='line'>DEK-Info: AES-256-CBC,425E8DDEEC7FD63F9E67608F7B25BAC5
</span><span class='line'>
</span><span class='line'>USIjQCyFsSfj/gbhXC0gT43qM9/4D9qGaEOAX2Ks7lxhs256LJImgeBywbnkzC67
</span><span class='line'>l8ZJQlivxSlIaC658RUcVNNbWwN4EgsczCTSsGjxUxUQ46ay1XUaAbO82oLeZWx7
</span><span class='line'>It0hQ/plno/kkpodtVwOvSks66ZdOIyTZ/IEA4BTMrmdsYi0PHfkbvlHfql9pdSO
</span><span class='line'>8d4cbgQU9nSuGOzXIX1UEMXluTIYBP0aj151bvPeocjeK5WhioldTm+LemfutiMd
</span><span class='line'>2N672BgMkhDeuYBauglChS0Q/fLmcRFM98ys+LcvEMlKtkT7L+vL4Wb7ulwhrOdG
</span><span class='line'>g2ecMvAjcl9RBrSszOWZ6L2xMqvjFo6xS0bras1BVetYbvdC9PEQW0RXycbwzwGL
</span><span class='line'>L9PJuQtKssI3MGTAydeKwrpT0Di27TiLqqb/QNBgJ/954JGLJJmpqVG3bt9YhCe5
</span><span class='line'>DwGASsFysuRxNPCW1C3aQ3qhydA3xgYJZrpdaRAIk/KRwxx+CFrk4oV0dom0kVTx
</span><span class='line'>w6jwjE0BS3q8e+nI42kXAilK84Qd4x6ZMAxM20DNQcucWGMRtJbrvvhJuLgMUNTI
</span><span class='line'>MjOHAqojk9vAu5m4XXCUtXALhMZrepFXjaVTblfyPZ1hhFutiDhZaGzzj5SL1uoY
</span><span class='line'>yLavTih3dQMpNBcOXY0TU/E4nKa0OhdGsNHs3gK9l77nO7IvZABviG2Qq50NuATj
</span><span class='line'>AjvQVNeEiJKdq5FaiHgX+/g7PLNbXUtNWhLZ6jXLc6flQLOuBwiMCR0Ug/46IlTC
</span><span class='line'>DOhsO36MDrMIxRjPgpcH00k9iXOvbuEILWGPjQ/WPNw7UoGEBepQSuIw2zzyD6ai
</span><span class='line'>DHVx2pD60U2anRzvvXzVR7Tf42Tm1fxR4epTdrJIY3LJQtTr2PMCNbcn8+kGfTg1
</span><span class='line'>M+1MCr+WN2pJhpYYr7ACFXFBJc1QLc/wF6/e47bkH3BLxWLZG1KQsLKzLim4teX+
</span><span class='line'>zFvBkOz7SSgDlH0xyogiihjlgZxjRNkk/P5OvtbdKWpOrJh649mw+zwvuN3TmrA0
</span><span class='line'>C/m70olU9QgjLCK3wlgkIr6bj1dS4sDPHghmEtpmp6OC8Ao1R9zDsIhIM1K9+ro7
</span><span class='line'>rE/TzvADeZPg7tzwzRJeTiYq2gN/xxeqlW7YdxGZVPizcfPtqhLnBqzxKeb/uKjT
</span><span class='line'>xuDMlQwZdlTV1QAGB1HKlb3qZdBtyEfUDEkwDL2z66r6roR750DtMnCwTsv9RIAJ
</span><span class='line'>9J2BBIvWjBQiS61p+m5vQ+9ImfqIs6KnZmvbvX5qZvrXRlqyQKdcio87AbqlPNl8
</span><span class='line'>IwrNP5ZePS5fBOJXcqtrecOKB3un+HmqiHqKWl8+O8TaMlgJNwdyw+4etzDWSH11
</span><span class='line'>7AYJJ2SXqIVf0UqZPeYHS7oBsISvP2ekRLAx0XSvxnukBSGolRzyhs8oaRhB3MBr
</span><span class='line'>uJRlKnQAfcFCk1zMNa75CC2vPP2WFMPixaR4HbBQ0pnMQp3KQHCuwmU7miS56EQm
</span><span class='line'>hZVa0yzlKJ/Tiv7Vy+1v0FSiVqWhO5K1p/TG0jcj2tsQ76P2gwXvUZLFnm7bdom2
</span><span class='line'>o8OfPVrr1Btje9+InVqiw2N3pgBBhRmE8ug/IYmz3tU3dxjXvjoJLpklah7ag4s2
</span><span class='line'>-----END RSA PRIVATE KEY-----</span></code></pre></td></tr></table></div></figure>


<h2>Membuat CSR</h2>

<p>Dengan bermodalkan private key tersebut, kita akan membuat CSR. Berikut perintahnya:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>openssl req -new -key demo.muhardin.com.key -out demo.muhardin.com.csr</span></code></pre></td></tr></table></div></figure>


<p>Kita akan ditanyai beberapa pertanyaan yang akan kita bahas dibawah. Berikut adalah outputnya.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Enter pass phrase for demo.muhardin.com.key:
</span><span class='line'>You are about to be asked to enter information that will be incorporated
</span><span class='line'>into your certificate request.
</span><span class='line'>What you are about to enter is what is called a Distinguished Name or a DN.
</span><span class='line'>There are quite a few fields but you can leave some blank
</span><span class='line'>For some fields there will be a default value,
</span><span class='line'>If you enter '.', the field will be left blank.
</span><span class='line'>-----
</span><span class='line'>Country Name (2 letter code) [AU]:ID
</span><span class='line'>State or Province Name (full name) [Some-State]:DKI Jakarta
</span><span class='line'>Locality Name (eg, city) []:Jakarta Timur
</span><span class='line'>Organization Name (eg, company) [Internet Widgits Pty Ltd]:PT. Endy Muhardin
</span><span class='line'>Organizational Unit Name (eg, section) []:Divisi Teknologi Informasi
</span><span class='line'>Common Name (e.g. server FQDN or YOUR name) []:demo.muhardin.com
</span><span class='line'>Email Address []:endy@muhardin.com
</span><span class='line'>
</span><span class='line'>Please enter the following 'extra' attributes
</span><span class='line'>to be sent with your certificate request
</span><span class='line'>A challenge password []:
</span><span class='line'>An optional company name []:</span></code></pre></td></tr></table></div></figure>


<ol>
<li>Kita diminta passphrase untuk membuka private key. Masukkan <code>test1234</code> seperti yang kita buat pada langkah pertama.</li>
<li>Kita akan ditanyai informasi tentang identitas kita. Masukkan sesuai kebutuhan.</li>
<li>Kita harus mengisi <code>Common Name</code>. Ini penting, terutama kalau kita membeli sertifikat berbayar!! Pastikan kita isi sesuai nama domain yang ingin kita pasangi https. Bila namanya tidak cocok, sertifikatnya akan menimbulkan warning. Saya isi sesuai nama domain yaitu <code>demo.muhardin.com</code>.</li>
<li>Email address juga harus diisi dengan benar. Ini biasanya digunakan CA untuk melakukan verifikasi.</li>
<li>Challenge password dan optional company name tidak saya isi</li>
</ol>


<p>Hasilnya adalah file CSR bernama <code>demo.muhardin.com.csr</code> yang isinya sebagai berikut.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-----BEGIN CERTIFICATE REQUEST-----
</span><span class='line'>MIIDADCCAegCAQAwgboxCzAJBgNVBAYTAklEMRQwEgYDVQQIDAtES0kgSmFrYXJ0
</span><span class='line'>YTEWMBQGA1UEBwwNSmFrYXJ0YSBUaW11cjEaMBgGA1UECgwRUFQuIEVuZHkgTXVo
</span><span class='line'>YXJkaW4xIzAhBgNVBAsMGkRpdmlzaSBUZWtub2xvZ2kgSW5mb3JtYXNpMRowGAYD
</span><span class='line'>VQQDDBFkZW1vLm11aGFyZGluLmNvbTEgMB4GCSqGSIb3DQEJARYRZW5keUBtdWhh
</span><span class='line'>cmRpbi5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC/CYCB6xU9
</span><span class='line'>j6k0JwB4TwF2hI+H41fH1fG1J/ZZPO3tXaJuibrXOnJNMAXD+GkSv/fOA45uIcX4
</span><span class='line'>6vvULXNz/fS8z3+RkVdrQ/BH2MBMeHjlU3duPYhv6c3yUVmZr7IsViBhTswT1VG9
</span><span class='line'>ZAq57lmjc/DTI/8PjGFvA64pzeWce3yTAmu30zwnDQ22m5gGOfPMfsf2TTW3B1eS
</span><span class='line'>Nv5WmlAIr6DtB4KxeCMXoKnIzBTDpqkeEf+MuIsqCw4/eXnWgBHZH66VIAy/9ygk
</span><span class='line'>hvX2dQNaMAZoExOfAEWVYtzgW84t0j+CwSgxQuk/nvjknE5TGXOrhjZg8mn0eXZK
</span><span class='line'>mmReIsYwjc09AgMBAAGgADANBgkqhkiG9w0BAQUFAAOCAQEAlbGTK4M2/wCHjg9p
</span><span class='line'>aveomNfU/9qvcK7YTBNNET/ryZGcDCWmG8td01BeSeJUHhqjdxFWHBFsdg+aK5L1
</span><span class='line'>xNd/eKG6NT7obviVHZGPVU2xMAIEOjx1xBP3FNbpIkuvapXcUxGBFlKy5aEmX2oo
</span><span class='line'>/XYyu582J69t9HeDxVBKpdHoLEfwnvTGytka4GRwDZBwiDHTWYlKeBONUUCqO1/L
</span><span class='line'>cd6GqFek37YPoP8ZfMIwTMDGrnCpcK0Z/nhkOZKAgfLtbHgHxvDG1ZUiul1hCLiY
</span><span class='line'>U+us6wgir1kbWXN9Jg6IFlN3ZeLQ4ahDSkIvmLO34ujtFwlq870qJArcW57Po5Pl
</span><span class='line'>3/bddQ==
</span><span class='line'>-----END CERTIFICATE REQUEST-----</span></code></pre></td></tr></table></div></figure>


<p>File CSR ini akan dikirim pemilik domain ke CA, biasanya melalui email.</p>

<p>Selesailah bagian pemilik domain. Selanjutnya kita akan berpura-pura menjadi CA.</p>

<h2>CA menyetujui CSR dari pemilik domain</h2>

<h3>Kelengkapan CA</h3>

<p>Sebelum bisa menyetujui, kita sediakan dulu kelengkapan CA, yaitu:</p>

<ul>
<li>private key CA</li>
<li>sertifikat CA</li>
</ul>


<h3>Private Key CA</h3>

<p>Private key CA dibuat dengan perintah yang sama seperti pembuatan private key domain di atas.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>openssl genrsa -aes256 2048 &gt; ca.key</span></code></pre></td></tr></table></div></figure>


<p>Seperti sebelumnya, kita juga akan dimintai passphrase.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Generating RSA private key, 2048 bit long modulus
</span><span class='line'>..+++
</span><span class='line'>.............................................................+++
</span><span class='line'>e is 65537 (0x10001)
</span><span class='line'>Enter pass phrase:
</span><span class='line'>Verifying - Enter pass phrase:</span></code></pre></td></tr></table></div></figure>


<p>Saya gunakan <code>testca1234</code> sebagai passphrasenya. Hasilnya adalah file <code>ca.key</code> berisi text sebagai berikut</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-----BEGIN RSA PRIVATE KEY-----
</span><span class='line'>Proc-Type: 4,ENCRYPTED
</span><span class='line'>DEK-Info: AES-256-CBC,B7E9F6A263310662657F6B7052CE5CA0
</span><span class='line'>
</span><span class='line'>7JX037X9M4Eqsr+BdM/27pj6ADtJIGAYQpHAFoZawhrmArW0PScnjbh/B1R06z3K
</span><span class='line'>ej4HewKQB+SqCznHhmFpJmAuBpb0+snMZuoI3lm1zcRFUs8OSsLLd1B1w4USJlYN
</span><span class='line'>K9mzLqQMlZrl56W9c4QthOegjkqE7RHleierWW3X2VqtWD29GISE8yi9mSb/hSaN
</span><span class='line'>iATuMUaO8etM21F1MZownxKeetfBHJF2Y0XNt9AamrL8+gvb/dE2pPn8Zi2tlR3O
</span><span class='line'>eoUX/FKaa0aV+f6e3X8IRivFp01mnT5UFm1OyDhDrQ1OL0tNzIlLMLqlk8o9njJ0
</span><span class='line'>bBTlDAp5yZFbxtb/GZ94S8x9Nqql5ymVGFTC3BfE0TAfWMIH8YRYEVqMK8YLbGyg
</span><span class='line'>M0vkDpV6impYgaTzJdICVdvOzb7rU9TnvkWsMrp3SRpSqoCtst6yDD59kXBgbPBq
</span><span class='line'>Mj9QeCSXh8jf3LkKq2evSpJ6GlbCzR5EXeWCFcevsHY2xN//jA8v5UPtBOtojYu2
</span><span class='line'>/uyAipnwctj+FEXki1BJwNrPuygzxibImJF3K4u83BkA2bBwIionufr71fNyUNai
</span><span class='line'>2ToKPmxEgOFWGqypSsAw/GUw0LVseg4OlD+Ci2PCYPSwzcvkwulCklXOv8oIuXPb
</span><span class='line'>hsoTVin67c5diok6ayqgyZuMLVIJKr2CAK+Gm77EO652SaIGJtdx5+DBs4BP/XF/
</span><span class='line'>flgwG6DFpft2q93qaYqLPv2LqXAzsP6ACXBRjbPLUMkjv8Sg4iijy1siCxI9i9+N
</span><span class='line'>harFVLRSagFy0dXDw/Wur42xsypcTCMY9kujszx0P4+1BO+vkdNCpSWWofgcIFhI
</span><span class='line'>nZwLpHm9YZ5Sb7GxigBXh7dXc4Q+y2X8xvTg3Xdf+Cew4LpFktAByunUDjw4hjv4
</span><span class='line'>iy56Rvx7lcxlmpwxXw3ZQTZinkSM7f7wqZjvH4E+wt5ShlPrFUGl3d2hmJ2thOTl
</span><span class='line'>hWJ9CYZDDV02UtfYRVqpyY2BCKG3d4YfkUprfGs38/eJMA5zCUi8Uy6eJNu8t4gI
</span><span class='line'>d55PEBltgyMOw8I4M3anbdYwphjhdlQPkbpbsA+AkV+m5dRIjSLxNSG1wXXyVuhI
</span><span class='line'>vMLfrZ3uIKEkn9YXkb59lDx2E8NCmBU7hcV+w7hLu12q8CRCPZZNjnsbNa3Zg4X3
</span><span class='line'>sBN78ak5OOp4thLRSeykpHdPn8sWyyk9RPGaAHv2Y3n4zv5P9JqZe4hA14sAjxj1
</span><span class='line'>Ur+0gLfWoWQwu68F6fsOvngQnMjQneJaSHjhFdGr+HXdzOFqP9u6nxb9LpeFMTX9
</span><span class='line'>i6Ut2IVvTL55LN5TT/U0mcvQo0C/k+31ABNTrsWhv3mkoj92RzWBGoj+1bM1NbeA
</span><span class='line'>foSmmX674LnSUQvqlmsSOtDG5PCVBz+J5C+cmcGp98QFX5ViC2hVi3R+ItPbIirS
</span><span class='line'>7NjJzXZ/f3yz8TOr5MU+I4aYtYNDMvzU8dArTHE8fU++dBTCj2F0KvpIGZlRpHf8
</span><span class='line'>D6AA0a/9VNpwUyILeWD8rjdDiIvx3xPIODMZaN5SJFFAtbDKy9AhU1JCsNAjYdLz
</span><span class='line'>crBRgAwXpcGHOTeDZr+nevcSo8sm7gsqyXcJ6c8r8urnOAKWhvptxGzy6LG8XqPQ
</span><span class='line'>-----END RSA PRIVATE KEY-----</span></code></pre></td></tr></table></div></figure>


<h3>Sertifikat CA</h3>

<p>Selanjutnya kita buat sertifikat berisi informasi tentang CA palsu kita ini. Sertifikat ini yang akan kita gunakan untuk menyetujui CSR dari pemilik domain. Berikut perintahnya</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>openssl req -new -x509 -days 3650 -key ca.key &gt; ca.crt</span></code></pre></td></tr></table></div></figure>


<p>Perintah di atas akan membuat sertifikat dengan <a href="http://en.wikipedia.org/wiki/X.509#Structure_of_a_certificate">format X-509</a>, berlaku selama 10 tahun (3650 hari), menggunakan private key dalam file <code>ca.key</code>. Sertifikat ini akan ditulis ke file <code>ca.crt</code>. Kita juga akan ditanyai beberapa informasi tentang CA palsu yang kita buat ini. Berikut output dari perintah di atas</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Enter pass phrase for ca.key:
</span><span class='line'>You are about to be asked to enter information that will be incorporated
</span><span class='line'>into your certificate request.
</span><span class='line'>What you are about to enter is what is called a Distinguished Name or a DN.
</span><span class='line'>There are quite a few fields but you can leave some blank
</span><span class='line'>For some fields there will be a default value,
</span><span class='line'>If you enter '.', the field will be left blank.
</span><span class='line'>-----
</span><span class='line'>Country Name (2 letter code) [AU]:ID
</span><span class='line'>State or Province Name (full name) [Some-State]:DKI Jakarta
</span><span class='line'>Locality Name (eg, city) []:Jakarta Timur
</span><span class='line'>Organization Name (eg, company) [Internet Widgits Pty Ltd]:CA Palsu
</span><span class='line'>Organizational Unit Name (eg, section) []:Divisi Sertifikasi
</span><span class='line'>Common Name (e.g. server FQDN or YOUR name) []:ROOT CA Palsu
</span><span class='line'>Email Address []:</span></code></pre></td></tr></table></div></figure>


<p>Berikut adalah isi file <code>ca.crt</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-----BEGIN CERTIFICATE-----
</span><span class='line'>MIIEKzCCAxOgAwIBAgIJAKHgEOaDGy3mMA0GCSqGSIb3DQEBBQUAMIGrMQswCQYD
</span><span class='line'>VQQGEwJJRDEUMBIGA1UECAwLREtJIEpha2FydGExFjAUBgNVBAcMDUpha2FydGEg
</span><span class='line'>VGltdXIxETAPBgNVBAoMCENBIFBhbHN1MRswGQYDVQQLDBJEaXZpc2kgU2VydGlm
</span><span class='line'>aWthc2kxFjAUBgNVBAMMDVJPT1QgQ0EgUGFsc3UxJjAkBgkqhkiG9w0BCQEWF2Vu
</span><span class='line'>ZHkubXVoYXJkaW5AZ21haWwuY29tMB4XDTEzMDcwOTA0MDg1MloXDTIzMDcwNzA0
</span><span class='line'>MDg1MlowgasxCzAJBgNVBAYTAklEMRQwEgYDVQQIDAtES0kgSmFrYXJ0YTEWMBQG
</span><span class='line'>A1UEBwwNSmFrYXJ0YSBUaW11cjERMA8GA1UECgwIQ0EgUGFsc3UxGzAZBgNVBAsM
</span><span class='line'>EkRpdmlzaSBTZXJ0aWZpa2FzaTEWMBQGA1UEAwwNUk9PVCBDQSBQYWxzdTEmMCQG
</span><span class='line'>CSqGSIb3DQEJARYXZW5keS5tdWhhcmRpbkBnbWFpbC5jb20wggEiMA0GCSqGSIb3
</span><span class='line'>DQEBAQUAA4IBDwAwggEKAoIBAQDda7cS/4qag6APajdqT7krxQOZZkYaCwzafZZN
</span><span class='line'>P9ANwIfUvwB2DOMVLFDFf8DM/Y/hcm8lQAamTNnQ+b58X8oOqOwKX2Y6uPUau+n3
</span><span class='line'>fCY4oTFhdYsbJHOW/hmTZXk+Exg3DHP+aFG7frUn39f8IuIGqujHIuWZfdokQFg8
</span><span class='line'>AaheYdvigtIv3FBqxSCbNIYhmhkhZnrQvJbfbD92n1cHB91eYT9Mj2Z7tFt0ykVV
</span><span class='line'>iQrOQ1n+CmMFUGheSD8Rnsi2ApsnBAsAj6ZruH1S+ZJJW+irZnbQE5LAsgUqjJYf
</span><span class='line'>IFYMoVphTTEMVfoizj2JvspzinufX11V6lylPl0P7EhQvkNJAgMBAAGjUDBOMB0G
</span><span class='line'>A1UdDgQWBBQ0c0rLkgOxJHxuBYyd3xeUVMHzxzAfBgNVHSMEGDAWgBQ0c0rLkgOx
</span><span class='line'>JHxuBYyd3xeUVMHzxzAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4IBAQBQ
</span><span class='line'>W4t7WMj0FrVcxi/+W/jlAJ2BKGYev68bJiEeLVzbDHN3CQhfQwMWD0L0v6icP3c8
</span><span class='line'>SLeGR+PEcq7FwGHb6gpIySVlnl8bxzRFK2lqfo+672djwtP0F/mrDKTDSzoIkPOq
</span><span class='line'>G53otMXIAoplWDU7SRZE489AWfwOCCSmUJke9sEh1YYQwRVU7ceWSZLbRgfmzLeY
</span><span class='line'>xjIfF/KBZrs8CMbYCEqHHHX5XAtIEP+3KSAbzfoxv/a07+FE+5/r5E6aXEBSbVme
</span><span class='line'>y79zpM9VIV8FLlZr/+TITXqLKOBMmCmTVM1h1LJ8IjmWx9L6v631DX3/tc67HMoa
</span><span class='line'>fauYxPo71IRYfIAN4RQ5
</span><span class='line'>-----END CERTIFICATE-----</span></code></pre></td></tr></table></div></figure>


<p>Informasi di dalam sertifikat tersebut bisa kita lihat dengan perintah berikut</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>openssl x509 -noout -text -in ca.crt</span></code></pre></td></tr></table></div></figure>


<p>Ini adalah hasilnya</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Certificate:
</span><span class='line'>    Data:
</span><span class='line'>        Version: 3 (0x2)
</span><span class='line'>        Serial Number: 11664341617117703654 (0xa1e010e6831b2de6)
</span><span class='line'>    Signature Algorithm: sha1WithRSAEncryption
</span><span class='line'>        Issuer: C=ID, ST=DKI Jakarta, L=Jakarta Timur, O=CA Palsu, 
</span><span class='line'>                OU=Divisi Sertifikasi, 
</span><span class='line'>                CN=ROOT CA Palsu
</span><span class='line'>        Validity
</span><span class='line'>            Not Before: Jul  9 04:08:52 2013 GMT
</span><span class='line'>            Not After : Jul  7 04:08:52 2023 GMT
</span><span class='line'>        Subject: C=ID, ST=DKI Jakarta, L=Jakarta Timur, O=CA Palsu, 
</span><span class='line'>                 OU=Divisi Sertifikasi, 
</span><span class='line'>                 CN=ROOT CA Palsu
</span><span class='line'>        Subject Public Key Info:
</span><span class='line'>            Public Key Algorithm: rsaEncryption
</span><span class='line'>                Public-Key: (2048 bit)
</span><span class='line'>                Modulus:
</span><span class='line'>                    00:dd:6b:b7:12:ff:8a:9a:83:a0:0f:6a:37:6a:4f:
</span><span class='line'>                    b9:2b:c5:03:99:66:46:1a:0b:0c:da:7d:96:4d:3f:
</span><span class='line'>                    d0:0d:c0:87:d4:bf:00:76:0c:e3:15:2c:50:c5:7f:
</span><span class='line'>                    c0:cc:fd:8f:e1:72:6f:25:40:06:a6:4c:d9:d0:f9:
</span><span class='line'>                    be:7c:5f:ca:0e:a8:ec:0a:5f:66:3a:b8:f5:1a:bb:
</span><span class='line'>                    e9:f7:7c:26:38:a1:31:61:75:8b:1b:24:73:96:fe:
</span><span class='line'>                    19:93:65:79:3e:13:18:37:0c:73:fe:68:51:bb:7e:
</span><span class='line'>                    b5:27:df:d7:fc:22:e2:06:aa:e8:c7:22:e5:99:7d:
</span><span class='line'>                    da:24:40:58:3c:01:a8:5e:61:db:e2:82:d2:2f:dc:
</span><span class='line'>                    50:6a:c5:20:9b:34:86:21:9a:19:21:66:7a:d0:bc:
</span><span class='line'>                    96:df:6c:3f:76:9f:57:07:07:dd:5e:61:3f:4c:8f:
</span><span class='line'>                    66:7b:b4:5b:74:ca:45:55:89:0a:ce:43:59:fe:0a:
</span><span class='line'>                    63:05:50:68:5e:48:3f:11:9e:c8:b6:02:9b:27:04:
</span><span class='line'>                    0b:00:8f:a6:6b:b8:7d:52:f9:92:49:5b:e8:ab:66:
</span><span class='line'>                    76:d0:13:92:c0:b2:05:2a:8c:96:1f:20:56:0c:a1:
</span><span class='line'>                    5a:61:4d:31:0c:55:fa:22:ce:3d:89:be:ca:73:8a:
</span><span class='line'>                    7b:9f:5f:5d:55:ea:5c:a5:3e:5d:0f:ec:48:50:be:
</span><span class='line'>                    43:49
</span><span class='line'>                Exponent: 65537 (0x10001)
</span><span class='line'>        X509v3 extensions:
</span><span class='line'>            X509v3 Subject Key Identifier: 
</span><span class='line'>                34:73:4A:CB:92:03:B1:24:7C:6E:05:8C:9D:DF:17:94:54:C1:F3:C7
</span><span class='line'>            X509v3 Authority Key Identifier: 
</span><span class='line'>                keyid:34:73:4A:CB:92:03:B1:24:7C:6E:05:8C:9D:DF:17:94:54:C1:F3:C7
</span><span class='line'>
</span><span class='line'>            X509v3 Basic Constraints: 
</span><span class='line'>                CA:TRUE
</span><span class='line'>    Signature Algorithm: sha1WithRSAEncryption
</span><span class='line'>         50:5b:8b:7b:58:c8:f4:16:b5:5c:c6:2f:fe:5b:f8:e5:00:9d:
</span><span class='line'>         81:28:66:1e:bf:af:1b:26:21:1e:2d:5c:db:0c:73:77:09:08:
</span><span class='line'>         5f:43:03:16:0f:42:f4:bf:a8:9c:3f:77:3c:48:b7:86:47:e3:
</span><span class='line'>         c4:72:ae:c5:c0:61:db:ea:0a:48:c9:25:65:9e:5f:1b:c7:34:
</span><span class='line'>         45:2b:69:6a:7e:8f:ba:ef:67:63:c2:d3:f4:17:f9:ab:0c:a4:
</span><span class='line'>         c3:4b:3a:08:90:f3:aa:1b:9d:e8:b4:c5:c8:02:8a:65:58:35:
</span><span class='line'>         3b:49:16:44:e3:cf:40:59:fc:0e:08:24:a6:50:99:1e:f6:c1:
</span><span class='line'>         21:d5:86:10:c1:15:54:ed:c7:96:49:92:db:46:07:e6:cc:b7:
</span><span class='line'>         98:c6:32:1f:17:f2:81:66:bb:3c:08:c6:d8:08:4a:87:1c:75:
</span><span class='line'>         f9:5c:0b:48:10:ff:b7:29:20:1b:cd:fa:31:bf:f6:b4:ef:e1:
</span><span class='line'>         44:fb:9f:eb:e4:4e:9a:5c:40:52:6d:59:9e:cb:bf:73:a4:cf:
</span><span class='line'>         55:21:5f:05:2e:56:6b:ff:e4:c8:4d:7a:8b:28:e0:4c:98:29:
</span><span class='line'>         93:54:cd:61:d4:b2:7c:22:39:96:c7:d2:fa:bf:ad:f5:0d:7d:
</span><span class='line'>         ff:b5:ce:bb:1c:ca:1a:7d:ab:98:c4:fa:3b:d4:84:58:7c:80:
</span><span class='line'>         0d:e1:14:39</span></code></pre></td></tr></table></div></figure>


<h3>Konfigurasi CA</h3>

<p>CA yang asli biasanya memiliki banyak private key dan certificate turunan.
Dari private key dan certificate yang utama (Root), dia akan membuat beberapa private key dan certificate lain.
Ini karena CA yang besar biasanya memiliki banyak reseller untuk menjualkan sertifikat SSL.
Untuk membatasi resiko dan juga memudahkan pendataan, request dari pelanggan masing-masing reseller disetujui dengan certificate turunan yang diperuntukkan khusus untuk reseller tersebut. Dengan demikian, bila terjadi masalah dengan reseller tersebut,
cukup certificate turunan yang khusus untuk reseller tersebut yang dibatalkan. Certificate turunan ini disebut dengan istilah <code>intermediate CA certificate</code>.</p>

<p>Pada waktu pembuatan signature terhadap CSR, ada banyak informasi yang dibutuhkan. Apalagi kalau suatu CA memiliki banyak intermediate certificate, masing-masing intermediate certificate tersebut berbeda informasi <code>issuer</code> nya. Contohnya, suatu CA memiliki lini produk seperti ini:</p>

<ul>
<li>Gratis : hanya berlaku 30 hari</li>
<li>Standar : berlaku 1 tahun, untuk satu domain</li>
<li>Enterprise : berlaku 1 tahun, multi domain</li>
<li>dan sebagainya</li>
</ul>


<p>Agar berbagai kategori di atas mudah dikelola, kita akan membuat file konfigurasi. Kita beri nama <code>openssl-config.txt</code> dan berisi seperti ini</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[ca]
</span><span class='line'>default_ca         = ca-palsu
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>[ca-palsu]
</span><span class='line'>dir                = ca-palsu
</span><span class='line'>
</span><span class='line'># sertifikat dan private key CA
</span><span class='line'>certificate        = $dir/ca.crt
</span><span class='line'>private_key        = $dir/ca.key
</span><span class='line'>
</span><span class='line'># Folder penyimpanan
</span><span class='line'>cert               = $dir/sertifikat-customer
</span><span class='line'>new_certs_dir      = $dir/sertifikat-customer
</span><span class='line'>crl                = $dir/sertifikat-batal
</span><span class='line'>
</span><span class='line'># Database sertifikat yang sudah dikeluarkan
</span><span class='line'>database           = $dir/database.txt
</span><span class='line'>serial             = $dir/serial.txt
</span><span class='line'>
</span><span class='line'># Nilai default untuk sertifikat baru
</span><span class='line'>default_days       = 365               # masa berlaku sertifikat customer
</span><span class='line'>default_crl_days   = 30                # masa berlaku daftar pembatalan sertifikat
</span><span class='line'>default_md         = sha1
</span><span class='line'>x509_extensions    = usr_cert
</span><span class='line'>
</span><span class='line'># Konfigurasi tambahan
</span><span class='line'>policy = policy-saya
</span><span class='line'>x509_extensions = certificate_extensions
</span><span class='line'>
</span><span class='line'>[ policy-saya ]
</span><span class='line'># Gunakan informasi dalam CSR
</span><span class='line'>commonName = supplied
</span><span class='line'>stateOrProvinceName = supplied
</span><span class='line'>countryName = supplied
</span><span class='line'>emailAddress = supplied
</span><span class='line'>organizationName = supplied
</span><span class='line'>organizationalUnitName = optional
</span><span class='line'>
</span><span class='line'>[ certificate_extensions ]
</span><span class='line'># Sertifikat customer tidak boleh jadi CA
</span><span class='line'>basicConstraints = CA:false
</span><span class='line'>
</span><span class='line'>[ req ]
</span><span class='line'># private key yang digunakan untuk menyetujui CSR
</span><span class='line'>default_keyfile = ca-palsu/ca.key</span></code></pre></td></tr></table></div></figure>


<p>Konfigurasi di atas berisi satu CA (tanpa intermediate certificate). Bila nantinya kita mau membuat beberapa CA, baik sebagai Root CA maupun Intermediate CA, kita tinggal copy-paste konfigurasi untuk <code>ca-palsu</code>.</p>

<p>Root CA kita <code>ca-palsu</code> kita buatkan folder tersendiri untuk menyimpan file-filenya. Kita masukkan private key dan certificate dirinya sendiri. Kemudian, kita juga membutuhkan file database dan serial. File database gunanya untuk menyimpan data semua sertifikat yang pernah diterbitkan oleh CA <code>ca-palsu</code>. Karena database ini merupakan file text biasa, bukan database server seperti MySQL atau Oracle, maka kita perlu bantu <code>openssl</code> untuk membuatkan serial number dengan cara menyediakan file text lain bernama <code>serial.txt</code>. Di sini <code>openssl</code> bisa mencatat nomer terakhir yang sudah terpakai. Untuk data awal, kita isi saja nilai <code>1000</code> dengan perintah berikut</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>echo 1000 &gt; ca-palsu/serial.txt</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Kita buatkan juga file <code>database.txt</code>, karena <code>openssl</code> tidak bisa membuat sendiri. Cukup gunakan perintah <code>touch</code> di Linux.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>touch ca-palsu/database.txt
</span><span class='line'>touch ca-palsu/database.txt.attr</span></code></pre></td></tr></table></div></figure>


<p>Bila sulit dibayangkan, langsung saja lihat <a href="https://github.com/endymuhardin/belajar-ssl/tree/10c1f7302226b07ac31505dc24e8fdf6091dfee9/ca">struktur foldernya di Github</a>. Di Github kita juga bisa lihat versi awal dari <a href="https://github.com/endymuhardin/belajar-ssl/blob/10c1f7302226b07ac31505dc24e8fdf6091dfee9/ca/ca-palsu/serial.txt">serial.txt</a>, <a href="https://github.com/endymuhardin/belajar-ssl/blob/10c1f7302226b07ac31505dc24e8fdf6091dfee9/ca/ca-palsu/database.txt">database.txt</a>, dan <a href="https://github.com/endymuhardin/belajar-ssl/blob/10c1f7302226b07ac31505dc24e8fdf6091dfee9/ca/ca-palsu/database.txt.attr">database.txt.attr</a>.</p>

<p>Jangan heran bila <code>database.txt</code> dan <code>database.txt.attr</code> tidak ada isinya. Memang harusnya seperti itu.</p>

<p>Sekarang kita siap membuatkan signature untuk CSR dari <code>demo.muhardin.com</code></p>

<h3>Membuat signature CSR dengan Sertifikat CA</h3>

<p>CA menerima CSR dari pemilik domain. Untuk simulasinya, kita copy saja file CSR ke folder <code>ca-palsu/sertifikat-request</code>.
Setelah diterima, seharusnya CA melakukan verifikasi terhadap pemilik domain <code>demo.muhardin.com</code>. Prosedur verifikasi yang asli akan kita bahas di artikel berikutnya. Kita asumsikan saja verifikasi berjalan sukses, sehingga kita bisa langsung membuatkan signaturenya.</p>

<p>Berikut adalah perintah untuk membuatkan signature dengan menggunakan CA <code>ca-palsu</code>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>openssl ca -config openssl-config.txt -in ca-palsu/sertifikat-request/demo.muhardin.com.csr</span></code></pre></td></tr></table></div></figure>


<p>OpenSSL akan menanyakan password untuk private key <code>ca-palsu</code>, kemudian membuatkan sertifikat baru sesuai konfigurasi <code>new_certs_dir</code> dalam <code>openssl-config.txt</code>. Berikut output perintah di atas.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Using configuration from openssl-config.txt
</span><span class='line'>Enter pass phrase for ca-palsu/ca.key:
</span><span class='line'>Check that the request matches the signature
</span><span class='line'>Signature ok
</span><span class='line'>The Subject's Distinguished Name is as follows
</span><span class='line'>countryName           :PRINTABLE:'ID'
</span><span class='line'>stateOrProvinceName   :ASN.1 12:'DKI Jakarta'
</span><span class='line'>localityName          :ASN.1 12:'Jakarta Timur'
</span><span class='line'>organizationName      :ASN.1 12:'PT. Endy Muhardin'
</span><span class='line'>organizationalUnitName:ASN.1 12:'Divisi Teknologi Informasi'
</span><span class='line'>commonName            :ASN.1 12:'demo.muhardin.com'
</span><span class='line'>emailAddress          :IA5STRING:'endy@muhardin.com'
</span><span class='line'>Certificate is to be certified until Jul  9 05:48:04 2014 GMT (365 days)
</span><span class='line'>Sign the certificate? [y/n]:y
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>1 out of 1 certificate requests certified, commit? [y/n]y
</span><span class='line'>Write out database with 1 new entries
</span><span class='line'>Certificate:
</span><span class='line'>    Data:
</span><span class='line'>        Version: 3 (0x2)
</span><span class='line'>        Serial Number: 4096 (0x1000)
</span><span class='line'>    Signature Algorithm: sha1WithRSAEncryption
</span><span class='line'>        Issuer: C=ID, ST=DKI Jakarta, L=Jakarta Timur, 
</span><span class='line'>                O=CA Palsu, OU=Divisi Sertifikasi, CN=ROOT CA Palsu
</span><span class='line'>        Validity
</span><span class='line'>            Not Before: Jul  9 05:48:04 2013 GMT
</span><span class='line'>            Not After : Jul  9 05:48:04 2014 GMT
</span><span class='line'>        Subject: CN=demo.muhardin.com, ST=DKI Jakarta, 
</span><span class='line'>                 C=ID/emailAddress=endy@muhardin.com, 
</span><span class='line'>                 O=PT. Endy Muhardin, OU=Divisi Teknologi Informasi
</span><span class='line'>        Subject Public Key Info:
</span><span class='line'>            Public Key Algorithm: rsaEncryption
</span><span class='line'>                Public-Key: (2048 bit)
</span><span class='line'>                Modulus:
</span><span class='line'>                    00:bf:09:80:81:eb:15:3d:8f:a9:34:27:00:78:4f:
</span><span class='line'>                    01:76:84:8f:87:e3:57:c7:d5:f1:b5:27:f6:59:3c:
</span><span class='line'>                    ed:ed:5d:a2:6e:89:ba:d7:3a:72:4d:30:05:c3:f8:
</span><span class='line'>                    69:12:bf:f7:ce:03:8e:6e:21:c5:f8:ea:fb:d4:2d:
</span><span class='line'>                    73:73:fd:f4:bc:cf:7f:91:91:57:6b:43:f0:47:d8:
</span><span class='line'>                    c0:4c:78:78:e5:53:77:6e:3d:88:6f:e9:cd:f2:51:
</span><span class='line'>                    59:99:af:b2:2c:56:20:61:4e:cc:13:d5:51:bd:64:
</span><span class='line'>                    0a:b9:ee:59:a3:73:f0:d3:23:ff:0f:8c:61:6f:03:
</span><span class='line'>                    ae:29:cd:e5:9c:7b:7c:93:02:6b:b7:d3:3c:27:0d:
</span><span class='line'>                    0d:b6:9b:98:06:39:f3:cc:7e:c7:f6:4d:35:b7:07:
</span><span class='line'>                    57:92:36:fe:56:9a:50:08:af:a0:ed:07:82:b1:78:
</span><span class='line'>                    23:17:a0:a9:c8:cc:14:c3:a6:a9:1e:11:ff:8c:b8:
</span><span class='line'>                    8b:2a:0b:0e:3f:79:79:d6:80:11:d9:1f:ae:95:20:
</span><span class='line'>                    0c:bf:f7:28:24:86:f5:f6:75:03:5a:30:06:68:13:
</span><span class='line'>                    13:9f:00:45:95:62:dc:e0:5b:ce:2d:d2:3f:82:c1:
</span><span class='line'>                    28:31:42:e9:3f:9e:f8:e4:9c:4e:53:19:73:ab:86:
</span><span class='line'>                    36:60:f2:69:f4:79:76:4a:9a:64:5e:22:c6:30:8d:
</span><span class='line'>                    cd:3d
</span><span class='line'>                Exponent: 65537 (0x10001)
</span><span class='line'>        X509v3 extensions:
</span><span class='line'>            X509v3 Basic Constraints: 
</span><span class='line'>                CA:FALSE
</span><span class='line'>    Signature Algorithm: sha1WithRSAEncryption
</span><span class='line'>         2e:1e:b9:4b:e4:ad:74:34:1c:7c:46:9c:d5:d8:83:db:da:b7:
</span><span class='line'>         b9:a0:ad:c5:54:f7:f2:51:c1:8f:77:70:ae:b4:a1:f6:9d:40:
</span><span class='line'>         ec:d5:55:76:0d:d0:d3:1b:36:ca:8b:bb:64:52:a8:ca:95:18:
</span><span class='line'>         5d:d1:28:47:e9:46:89:72:16:8e:57:b9:97:ac:93:c3:5d:6e:
</span><span class='line'>         17:ac:b3:91:87:61:26:a7:c6:6e:35:d9:03:92:cb:06:08:e5:
</span><span class='line'>         93:83:89:fb:44:6b:b9:78:b5:b7:e5:d4:84:47:3e:0e:26:40:
</span><span class='line'>         ec:4e:7a:6f:c1:76:75:b6:6c:f2:ef:c5:97:46:8e:d5:1b:1a:
</span><span class='line'>         67:95:1e:3e:d7:56:91:43:6d:a2:7a:e7:a4:bd:29:f0:1a:67:
</span><span class='line'>         62:d0:83:35:45:96:19:1f:c8:ee:cf:27:3e:f7:9b:11:cc:b3:
</span><span class='line'>         a8:dd:e6:b4:8a:85:c2:69:36:4f:0c:c3:50:f4:3a:30:e0:3a:
</span><span class='line'>         f6:6a:2b:72:4e:a3:44:0f:af:73:06:8e:fd:20:d3:4b:99:f5:
</span><span class='line'>         8b:72:f8:f6:21:3c:f4:03:ce:4d:bc:b2:e1:11:29:0d:3d:80:
</span><span class='line'>         23:41:72:d1:fb:28:f0:32:cf:49:56:5d:cc:e3:a7:dc:88:5c:
</span><span class='line'>         61:8f:36:9b:bc:28:df:81:89:4a:e6:7f:06:7e:45:9f:19:f8:
</span><span class='line'>         83:ca:1b:df
</span><span class='line'>-----BEGIN CERTIFICATE-----
</span><span class='line'>MIIDsDCCApigAwIBAgICEAAwDQYJKoZIhvcNAQEFBQAwgYMxCzAJBgNVBAYTAklE
</span><span class='line'>MRQwEgYDVQQIDAtES0kgSmFrYXJ0YTEWMBQGA1UEBwwNSmFrYXJ0YSBUaW11cjER
</span><span class='line'>MA8GA1UECgwIQ0EgUGFsc3UxGzAZBgNVBAsMEkRpdmlzaSBTZXJ0aWZpa2FzaTEW
</span><span class='line'>MBQGA1UEAwwNUk9PVCBDQSBQYWxzdTAeFw0xMzA3MDkwNTQ4MDRaFw0xNDA3MDkw
</span><span class='line'>NTQ4MDRaMIGiMRowGAYDVQQDDBFkZW1vLm11aGFyZGluLmNvbTEUMBIGA1UECAwL
</span><span class='line'>REtJIEpha2FydGExCzAJBgNVBAYTAklEMSAwHgYJKoZIhvcNAQkBFhFlbmR5QG11
</span><span class='line'>aGFyZGluLmNvbTEaMBgGA1UECgwRUFQuIEVuZHkgTXVoYXJkaW4xIzAhBgNVBAsM
</span><span class='line'>GkRpdmlzaSBUZWtub2xvZ2kgSW5mb3JtYXNpMIIBIjANBgkqhkiG9w0BAQEFAAOC
</span><span class='line'>AQ8AMIIBCgKCAQEAvwmAgesVPY+pNCcAeE8BdoSPh+NXx9XxtSf2WTzt7V2ibom6
</span><span class='line'>1zpyTTAFw/hpEr/3zgOObiHF+Or71C1zc/30vM9/kZFXa0PwR9jATHh45VN3bj2I
</span><span class='line'>b+nN8lFZma+yLFYgYU7ME9VRvWQKue5Zo3Pw0yP/D4xhbwOuKc3lnHt8kwJrt9M8
</span><span class='line'>Jw0NtpuYBjnzzH7H9k01twdXkjb+VppQCK+g7QeCsXgjF6CpyMwUw6apHhH/jLiL
</span><span class='line'>KgsOP3l51oAR2R+ulSAMv/coJIb19nUDWjAGaBMTnwBFlWLc4FvOLdI/gsEoMULp
</span><span class='line'>P5745JxOUxlzq4Y2YPJp9Hl2SppkXiLGMI3NPQIDAQABow0wCzAJBgNVHRMEAjAA
</span><span class='line'>MA0GCSqGSIb3DQEBBQUAA4IBAQAuHrlL5K10NBx8RpzV2IPb2re5oK3FVPfyUcGP
</span><span class='line'>d3CutKH2nUDs1VV2DdDTGzbKi7tkUqjKlRhd0ShH6UaJchaOV7mXrJPDXW4XrLOR
</span><span class='line'>h2Emp8ZuNdkDkssGCOWTg4n7RGu5eLW35dSERz4OJkDsTnpvwXZ1tmzy78WXRo7V
</span><span class='line'>GxpnlR4+11aRQ22ieuekvSnwGmdi0IM1RZYZH8juzyc+95sRzLOo3ea0ioXCaTZP
</span><span class='line'>DMNQ9Dow4Dr2aityTqNED69zBo79INNLmfWLcvj2ITz0A85NvLLhESkNPYAjQXLR
</span><span class='line'>+yjwMs9JVl3M46fciFxhjzabvCjfgYlK5n8GfkWfGfiDyhvf
</span><span class='line'>-----END CERTIFICATE-----
</span><span class='line'>Data Base Updated</span></code></pre></td></tr></table></div></figure>


<p>Setelah sukses, <code>openssl</code> akan membuatkan sertifikat yang sudah ditandatangani menggunakan private key <code>ca-palsu</code>. Berikut daftar file/folder yang terdampak selama proses ini:</p>

<ul>
<li>serial.txt : tadinya berisi 1000, sekarang berisi 1001</li>
<li>database.txt : tadinya kosong, sekarang ada satu baris berisi informasi sertifikat yang baru saja dibuat</li>
<li>folder sertifikat-customer : tadinya kosong, sekarang berisi satu file sertifikat untuk <code>demo.muhardin.com</code> dengan nama file <code>1000.pem</code></li>
</ul>


<p>Daftar perubahan ini bisa <a href="https://github.com/endymuhardin/belajar-ssl/commit/f950bdfb866be9da7a80e613b7d95bf282454b05">dilihat di Github</a>.</p>

<p>Selanjutnya, CA akan mengirimkan file <code>1000.pem</code> tersebut ke pemilik domain <code>demo.muhardin.com</code>.</p>

<h2>Kelengkapan File Pemilik Domain</h2>

<p>Setelah menerima file <code>100.pem</code> dari CA, pemilik domain <code>demo.muhardin.com</code> akan memiliki file berikut:</p>

<ul>
<li>File private key : <code>demo.muhardin.com.key</code></li>
<li>File CSR : <code>demo.muhardin.com.csr</code>. File ini <a href="http://security.stackexchange.com/questions/32857/could-i-delete-csr-files-when-the-key-is-signed-by-ca">boleh dihapus setelah kita menerima sertifikat yang telah disahkan oleh CA</a>.</li>
<li>File sertifikat dari CA : <code>1000.pem</code>. Agar lebih jelas, kita rename saja menjadi <code>demo.muhardin.com.crt</code>.</li>
</ul>


<p>Demikianlah langkah-langkah membuat self-signed certificate. Pada artikel berikutnya, kita akan membahas bagaimana <a href="http://software.endy.muhardin.com/aplikasi/membeli-sertifikat-ssl/">cara membeli sertifikat</a>. Kemudian memasang sertifikat (baik yang self-signed maupun yang berbayar) ke webserver kita.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Endy Muhardin</span></span>

      








  


<time datetime="2013-07-09T13:41:00+07:00" pubdate data-updated="true">Jul 9<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/categories/aplikasi/'>aplikasi</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://software.endy.muhardin.com/aplikasi/membuat-self-signed-certificate/" data-via="endymuhardin" data-counturl="http://software.endy.muhardin.com/aplikasi/membuat-self-signed-certificate/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/aplikasi/apa-itu-ssl/" title="Previous Post: Apa itu SSL">&laquo; Apa itu SSL</a>
      
      
        <a class="basic-alignment right" href="/aplikasi/membeli-sertifikat-ssl/" title="Next Post: Membeli Sertifikat SSL">Membeli Sertifikat SSL &raquo;</a>
      
    </p>
  </footer>
</article>


<section>
  <h1>Comments</h1>
  <div id="facebook_comments" aria-live="polite">
    <noscript>Please enable JavaScript to view the comments powered by facebook</a></noscript>
<div
  class="fb-comments"
  data-href="http://software.endy.muhardin.com/aplikasi/membuat-self-signed-certificate/"
  data-num-posts="2"
  data-width="470"
  data-colorscheme="light" ></div>

  </div>
</section>



</div>

<aside class="sidebar">
  
    <section>
<h1>Endy Muhardin</h1>

<p>Software Developer berdomisili di Jabodetabek, berkutat di lingkungan open source, terutama Java dan Linux.</p>

<p>
    <ul>
        <li>
            <span class="icon-phone" style="text-align: left; width: 100%">&nbsp;
            +62 812 98000 468
            </span>
        </li>
        <li>
            <span class="icon-envelope" style="text-align: left; width: 100%">&nbsp;
                <a href="mailto:endy.muhardin@gmail.com">endy.muhardin@gmail.com</a>
            </span>
        </li>
        <li>
            <span class="icon-twitter" style="text-align: left; width: 100%">&nbsp;
                <a href="http://twitter.com/endymuhardin">@endymuhardin</a>
            </span>
        </li>
        <li>
            <span class="icon-github" style="text-align: left; width: 100%">&nbsp;
                <a href="https://github.com/endymuhardin">github.com/endymuhardin</a>
            </span>
        </li>
        <li>
            <span class="icon-facebook" style="text-align: left; width: 100%">&nbsp;
                <a href="http://facebook.com/endy.muhardin">facebook.com/endy.muhardin</a>
            </span>
        </li>
        <li>
            <span class="icon-google-plus" style="text-align: left; width: 100%">&nbsp;
                <a href="http://google.com/+EndyMuhardin">google.com/+EndyMuhardin</a>
            </span>
        </li>
        <li>
            <span class="icon-linkedin" style="text-align: left; width: 100%">&nbsp;
                <a href="http://id.linkedin.com/pub/endy-muhardin/3/940/1bb">LinkedIn</a>
            </span>
        </li>
    </ul>
</p>
</section>

<section>

Bila artikel di website ini membantu meningkatkan penghasilan Anda, 
jangan ragu untuk memberikan donasi :)

<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHRwYJKoZIhvcNAQcEoIIHODCCBzQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYByjmBHWB1u9oWkn33FHJ7Lu41iidZkdKLciblvSz2Oa/oBArw42F4/7nq3imMAWUvpA6Cx9zwNr3R7WqjnMlDr91VTkeyl1jusRB6Knw/JAaNI2yz20lbFtVNMhUrh2LJ6qXUwvdL4jvZeNUeOcvq/muETfy8BzgdKwCF3gNGpoTELMAkGBSsOAwIaBQAwgcQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQId7q7vUD8KwOAgaAyBdpVvmsdYWgKdVROwaJazFrOpQpWEncNGoycnyfeJRNwHXXZU1mj0oTJuvj/CUGr6cZC5RnQNBHC6FLnbjCVheTNtjBSs/CjD7HZMn28kElykLad2wDrFUsBkQCdRU43ZBLoRedRKbGVWP4wk6DgLovkwPzYNLKtl3clJbgm3UDXigmJqeAyvmafF2yk8LV4ACLTJtCu6qtSBVHkuUPToIIDhzCCA4MwggLsoAMCAQICAQAwDQYJKoZIhvcNAQEFBQAwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMB4XDTA0MDIxMzEwMTMxNVoXDTM1MDIxMzEwMTMxNVowgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDBR07d/ETMS1ycjtkpkvjXZe9k+6CieLuLsPumsJ7QC1odNz3sJiCbs2wC0nLE0uLGaEtXynIgRqIddYCHx88pb5HTXv4SZeuv0Rqq4+axW9PLAAATU8w04qqjaSXgbGLP3NmohqM6bV9kZZwZLR/klDaQGo1u9uDb9lr4Yn+rBQIDAQABo4HuMIHrMB0GA1UdDgQWBBSWn3y7xm8XvVk/UtcKG+wQ1mSUazCBuwYDVR0jBIGzMIGwgBSWn3y7xm8XvVk/UtcKG+wQ1mSUa6GBlKSBkTCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb22CAQAwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOBgQCBXzpWmoBa5e9fo6ujionW1hUhPkOBakTr3YCDjbYfvJEiv/2P+IobhOGJr85+XHhN0v4gUkEDI8r2/rNk1m0GA8HKddvTjyGw/XqXa+LSTlDYkqI8OwR8GEYj4efEtcRpRYBxV8KxAW93YDWzFGvruKnnLbDAF6VR5w/cCMn5hzGCAZowggGWAgEBMIGUMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbQIBADAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTMwNzExMDY0MjAwWjAjBgkqhkiG9w0BCQQxFgQUwzp1u86AW3VypUoSwjzfYA4KYn8wDQYJKoZIhvcNAQEBBQAEgYBExEV1zgHTrd+4zfXwIP0KO0/W7b4s2KDLbZ3Vq9FrtdtC9W3NEf6SbVZDYE+bEheP10XokfC8BslN7nZgsfPTvSNXv7ixfpWUVBb/gQB+QO70q1NZ2tuF2M/t1QzFUEZ9FeA0sgFMBS7nxmu7ynaSzez3B4FTG/jUzuRljVWhew==-----END PKCS7-----
">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
</form>

</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/java/kumpulan-tutorial-spring-framework/">Kumpulan Tutorial Spring Framework</a>
      </li>
    
      <li class="post">
        <a href="/java/tugas-kuliah-pemrograman-1/">Tugas Kuliah Pemrograman 1</a>
      </li>
    
      <li class="post">
        <a href="/java/symmetric-encryption-dengan-java/">Symmetric Encryption dengan Java</a>
      </li>
    
      <li class="post">
        <a href="/aplikasi/tips-upgrade-library/">Tips Upgrade Library</a>
      </li>
    
      <li class="post">
        <a href="/aplikasi/octopress-aggregator/">Octopress Aggregator</a>
      </li>
    
      <li class="post">
        <a href="/life/problem-solving/">Problem Solving</a>
      </li>
    
      <li class="post">
        <a href="/java/mendapatkan-informasi-system-dengan-java/">Mendapatkan Informasi System dengan Java</a>
      </li>
    
      <li class="post">
        <a href="/aplikasi/teknik-menggunakan-google/">Teknik Menggunakan Google</a>
      </li>
    
      <li class="post">
        <a href="/java/migrasi-database-dengan-liquibase/">Migrasi Database dengan Liquibase</a>
      </li>
    
      <li class="post">
        <a href="/life/lan-na-zha/">Lan Na Zha</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("endymuhardin", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/endymuhardin" class="twitter-follow-button" data-show-count="false">Follow @endymuhardin</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/endymuhardin">@endymuhardin</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'endymuhardin',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Endy Muhardin -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=269506799827290&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
